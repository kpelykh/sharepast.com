<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                            http://www.springframework.org/schema/context
                            http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd">

    <import resource="routers.xml"/>

     <!-- ================= public (unsecured) resources below ===================== -->

    <bean name="newUserResource" class="kp.app.resources.users.NewUserResource" scope="prototype">
        <property name="representationTemplates">
            <map>
                <entry>
                    <key>
                        <util:constant static-field="org.restlet.data.MediaType.TEXT_HTML"/>
                    </key>
                    <bean class="kp.app.restlet.freemarker.FreemarkerRepresentationFactory">
                        <property name="templateName" value="users/new.ftl"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>

    <!-- ================= secured resources below ===================== -->

    <bean name="homeResource" class="kp.app.resources.users.HomeResource" scope="prototype">
        <property name="representationTemplates">
            <map>
                <entry>
                    <key>
                        <util:constant static-field="org.restlet.data.MediaType.TEXT_HTML"/>
                    </key>
                    <bean class="kp.app.restlet.freemarker.FreemarkerRepresentationFactory">
                        <property name="templateName" value="users/home.ftl"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>

    <bean name="userProfileResource" class="kp.app.resources.users.ProfileResource" scope="prototype">
        <property name="representationTemplates">
            <map>
                <entry>
                    <key>
                        <util:constant static-field="org.restlet.data.MediaType.TEXT_HTML"/>
                    </key>
                    <bean class="kp.app.restlet.freemarker.FreemarkerRepresentationFactory">
                        <property name="templateName" value="users/profile.ftl"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>

</beans>