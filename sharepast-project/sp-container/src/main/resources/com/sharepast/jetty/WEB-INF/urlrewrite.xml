<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE urlrewrite
        PUBLIC "-//tuckey.org//DTD UrlRewrite 3.0//EN"
        "http://tuckey.org/res/dtds/urlrewrite3.0.dtd">
<urlrewrite>

        <!-- this rule is for urls like http://localhost/css/.svn/entries
            ShiroFilterFactoryBean has filterChain which redirects all requests to folders containing .svn in path to root,
            but if there's no existing session, it will add ugly JSESSIONID parameter. This filter will strip it out
        -->
        <!--<rule>
           <from>^/;JSESSIONID=.*$</from>
           <to type="redirect">/</to>
        </rule>-->

    <rule>
        <name>Canonical URLs</name>
        <note>
            On some webservers there are more than one URL for a resource. Usually there are canonical URLs (which
            should be actually used and distributed) and those which are just shortcuts, internal ones, etc. Independent
            of which URL the user supplied with the request he should finally see the canonical one only.

            We do an external HTTP redirect for all non-canonical URLs to fix them in the location view of the Browser
            and for all subsequent requests. In the example ruleset below we replace /~user by the canonical /u/user and
            fix a missing trailing slash for /u/user.

            RewriteRule ^/~([^/]+)/?(.*) /u/$1/$2 [R]
            RewriteRule ^/([uge])/([^/]+)$ /$1/$2/ [R]
        </note>
        <from>^(/.*)/$</from>
        <to type="redirect">$1</to>
    </rule>
    <!--<rule>
        <from>^/([uge])/([^/]+)$</from>
        <to type="redirect">/$1/$2/</to>
    </rule>-->


</urlrewrite>

